<h3>Vulnerability model</h3>

<div class="alert alert-info ipt-info" role="alert">
  Select loss types:<br>
  <div style="text-align: center;">
    <div class="chbox">
      <input type="checkbox" name="losstype" value="structural" checked="checked">
      <span class="inlible">Structural</span>
    </div>
    <div class="chbox">
      <input type="checkbox" name="losstype" value="nonstructural">
      <span class="inlible">Non Structural</span>
    </div>
    <div class="chbox">
      <input type="checkbox" name="losstype" value="contents">
      <span class="inlible">Contents</span>
    </div>
    <div class="chbox">
      <input type="checkbox" name="losstype" value="businter">
      <span class="inlible">Business Interruption</span>
    </div>
    <div class="chbox">
      <input type="checkbox" name="losstype" value="occupants">
      <span class="inlible">Occupants</span>
    </div>
  </div>
</div>

<div name="vm-loss-structural">
  <div class="menuItems" name="vm-structural-html" data_gem_group="vulnerability-model">
    <label>Structural vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='A vulnerability model defines a set of vulnerability functions, describing the mean loss ratio for a set of intensity measure levels. Uncertainty can be define by means of a coefficient of variation per loss ratio and a probabilistic distribution, or by specifying a discrete probability mass function. Note: it is necessary to define a fragility function for each building typology present in the exposure model.'></span>:</label>
    {{ vm_structural_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="vm-structural-new">Upload</button>
  </div>
  <div class="menuItems" name="vm-structural-new" style="display: none;">
    <div name="msg"><br></div>
    <form action="upload/vulnerability_model" method="post" id="file-upload-form" name="vm-structural" enctype="multipart/form-data">
      {% csrf_token %}
      {{ vm_structural_upload.file_upload }}
    </form>
  </div>
</div>

<div name="vm-loss-nonstructural">
  <div class="menuItems" name="vm-nonstructural-html" data_gem_group="vulnerability-model">
    <label>Nonstructural vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='A vulnerability model defines a set of vulnerability functions, describing the mean loss ratio for a set of intensity measure levels. Uncertainty can be define by means of a coefficient of variation per loss ratio and a probabilistic distribution, or by specifying a discrete probability mass function. Note: it is necessary to define a fragility function for each building typology present in the exposure model.'></span>:</label>
    {{ vm_nonstructural_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="vm-nonstructural-new">Upload</button>
  </div>
  <div class="menuItems" name="vm-nonstructural-new" style="display: none;">
    <div name="msg"><br></div>
    <form action="upload/vulnerability_model" method="post" id="file-upload-form" name="vm-nonstructural" enctype="multipart/form-data">
      {% csrf_token %}
      {{ vm_nonstructural_upload.file_upload }}
    </form>
  </div>
</div>

<div name="vm-loss-contents">
  <div class="menuItems" name="vm-contents-html" data_gem_group="vulnerability-model">
    <label>Contents vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='A vulnerability model defines a set of vulnerability functions, describing the mean loss ratio for a set of intensity measure levels. Uncertainty can be define by means of a coefficient of variation per loss ratio and a probabilistic distribution, or by specifying a discrete probability mass function. Note: it is necessary to define a fragility function for each building typology present in the exposure model.'></span>:</label>
    {{ vm_contents_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="vm-contents-new">New</button>
  </div>
  <div class="menuItems" name="vm-contents-new" style="display: none;">
    <div name="msg"><br></div>
    <form action="upload/vulnerability_model" method="post" id="file-upload-form" name="vm-contents" enctype="multipart/form-data">
      {% csrf_token %}
      {{ vm_contents_upload.file_upload }}
    </form>
  </div>
</div>

<div name="vm-loss-businter">
  <div class="menuItems" name="vm-businter-html" data_gem_group="vulnerability-model">
    <label>Business interruption vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='A vulnerability model defines a set of vulnerability functions, describing the mean loss ratio for a set of intensity measure levels. Uncertainty can be define by means of a coefficient of variation per loss ratio and a probabilistic distribution, or by specifying a discrete probability mass function. Note: it is necessary to define a fragility function for each building typology present in the exposure model.'></span>:</label>
    {{ vm_businter_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="vm-businter-new">Upload</button>
  </div>
  <div class="menuItems" name="vm-businter-new" style="display: none;">
    <div name="msg"><br></div>
    <form action="upload/vulnerability_model" method="post" id="file-upload-form" name="vm-businter" enctype="multipart/form-data">
      {% csrf_token %}
      {{ vm_businter_upload.file_upload }}
    </form>
  </div>
</div>

<div name="vm-loss-occupants">
  <div class="menuItems" name="vm-occupants-html" data_gem_group="vulnerability-model">
    <label>Occupants vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='A vulnerability model defines a set of vulnerability functions, describing the mean loss ratio for a set of intensity measure levels. Uncertainty can be define by means of a coefficient of variation per loss ratio and a probabilistic distribution, or by specifying a discrete probability mass function. Note: it is necessary to define a fragility function for each building typology present in the exposure model.'></span>:</label>
    {{ vm_occupants_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="vm-occupants-new">Upload</button>
  </div>
  <div class="menuItems" name="vm-occupants-new" style="display: none;">
    <div name="msg"><br></div>
    <form action="upload/vulnerability_model" method="post" id="file-upload-form" name="vm-occupants" enctype="multipart/form-data">
      {% csrf_token %}
      {{ vm_occupants_upload.file_upload }}
    </form>
  </div>
</div>

<div class="menuItems">
  <table style="margin: auto;">
    <tr><td>
        <input style="vertical-align: top;" type="checkbox" name="insured_losses">
      </td><td>
        <label> Include insured losses <span class="ui-icon ui-icon-help ipt_help" title='This parameter specifies whether insured losses should be calculated. In order for the OpenQuake-engine to be able to compute insured losses, the insurance limits and deductibles must be listed for each asset in the exposure model.'></span></label>
    </td></tr>
  </table>
</div>

<div class="alert alert-info ipt-info" role="alert">
  <div style="text-align: center;">
    <div class="chbox">
      <input type="checkbox" name="asset-correlation-choice">
      <span class="inlible">Include asset correlation</span>
    </div>
  </div>
</div>

<div class="menuItems" name="asset-correlation">
  <div>
    <div>
      <label>Asset correlation <span class="ui-icon ui-icon-help ipt_help" title='If the uncertainty in the loss ratios has been defined within the vulnerability model, the coefficient of correlation will be used in the Monte Carlo sampling process of the loss ratios, between the assets that share the same taxonomy.'></span>:</label>
      <input type="text" name="asset_correlation" value="" placeholder="(0 <= value <= 1)">
    </div>
  </div>
</div>

<!-- models end -->
