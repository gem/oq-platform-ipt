<div class="menuItems">
  <label>Description:</label>
  <textarea id="description" rows="4" cols="10" name="description">Event based calculation</textarea>
</div>

<div name="exposure-model">
  {% include "ipt/tabs/cf/sect_exposure_model.html" %}
</div>

<div name="vulnerability-model">
 {% include "ipt/tabs/cf/sect_vulnerability_model.html" %}
</div> <!-- vulnerability model -->

<div name="hazard-model">
  <h3>Hazard model</h3>

  <div class="menuItems">
    <div name="source-model-logic-tree-file-html">
      <label>Source model logic tree file <span class="ui-icon ui-icon-help ipt_help" title='File that contains a list of source models.'></span>:</label>
      {{ source_model_logic_tree_file_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="source-model-logic-tree-file-new">New</button>
    </div>
    <div class="menuItems" name="source-model-logic-tree-file-new" style="margin-right: 0px; display: none;">
      <div name="msg"><br></div>
      <form action="upload/source_model_logic_tree_file" method="post" id="file-upload-form" name="source-model-logic-tree-file" enctype="multipart/form-data">
        {% csrf_token %}
        {{ source_model_logic_tree_file_upload.file_upload }}
        <button type="submit" class="btn btn-primary" id='upload-btn'>Upload</button>
      </form>
    </div>
  </div>

  <div class="menuItems">
    <div name="source-model-file-html">
      <label>Source model files <span class="ui-icon ui-icon-help ipt_help" title='Selection of source model files that contain a list of the sources used characterised the seismicity in a region.'></span>:</label>
      {{ source_model_file_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="source-model-file-new">New</button>
    </div>
    <div class="menuItems" name="source-model-file-new" style="margin-right: 0px; display: none;">
      <div name="msg"><br></div>
      <form action="upload/source_model_file" method="post" id="file-upload-form" name="source-model-file" enctype="multipart/form-data">
        {% csrf_token %}
        {{ source_model_file_upload.file_upload }}
        <button type="submit" class="btn btn-primary" id='upload-btn'>Upload</button>
      </form>
    </div>
  </div>

  <div class="menuItems">
    <div name="gsim-logic-tree-file-html" data_gem_group="gsim">
      <label>GMPE logic tree file <span class="ui-icon ui-icon-help ipt_help" title='File that contains a list of ground-motion prediction equations for each tectonic region used to characterise the sources in the PSHA model.'></span>:</label>
      {{ gsim_logic_tree_file_html.file_html }} <button type="submit" style="vertical-align: top;" class="btn btn-primary" name="gsim-logic-tree-file-new">New</button>
    </div>
    <div class="menuItems" name="gsim-logic-tree-file-new" style="margin-right: 0px; display: none;">
      <div name="msg"><br></div>
      <form action="upload/gsim_logic_tree_file" method="post" id="file-upload-form" name="gsim-logic-tree-file" enctype="multipart/form-data">
        {% csrf_token %}
        {{ gsim_logic_tree_file_upload.file_upload }}
        <button type="submit" class="btn btn-primary" id='upload-btn'>Upload</button>
      </form>
    </div>
  </div>

  <div class="menuItems" name="width-of-mfd-bin">
    <label>Bin width of the magnitude frequency distribution <span class="ui-icon ui-icon-help ipt_help" title='Level of discretization of the the magnitude-frequency distribution.'></span>:</label>
    <input type="text" name="width_of_mfd_bin" value="0.5">
  </div>

  <div class="alert alert-info ipt-info" role="alert">
    <div style="text-align: center;">
      <div class="chbox">
        <input type="checkbox" name="rupture_mesh_spacing_choice">
        <span class="inlible">Include rupture mesh spacing</span>
      </div>
    </div>
  </div>
  <div class="menuItems" name="rupture-mesh-spacing">
    <label>Rupture mesh spacing (km) <span class="ui-icon ui-icon-help ipt_help" title='Level of discretization of the mesh representing faults.'></span>:</label>
    <input type="text" name="rupture_mesh_spacing" value="5.0">
  </div>

  <div class="alert alert-info ipt-info" role="alert">
    <div style="text-align: center;">
      <div class="chbox">
        <input type="checkbox" name="area_source_discretization_choice">
        <span class="inlible">Include area source discretization</span>
      </div>
    </div>
  </div>
  <div class="menuItems" name="area-source-discretization">
    <label>Area source discretization (km) <span class="ui-icon ui-icon-help ipt_help" title='Level of discretization of the grid used to delineate the area sources.'></span>:</label>
    <input type="text" name="area_source_discretization" value="10.0">
  </div>
</div>

<div style="min-height: 50px;" name="site-conditions"><!-- site conditions block -->
  {% include "ipt/tabs/cf/sect_site_conditions.html" %}
</div>

<div name="hazard-calculation">
  <h3>Hazard calculation</h3>

  <div class="menuItems">
    <label>Level of truncation <span class="ui-icon ui-icon-help ipt_help" title='The level of truncation of the Gaussian distribution of the logarithm of ground motion used in the calculation of hazard.'></span>:</label>
    <input type="text" name="truncation_level" value="3.0">
  </div>

  <div class="menuItems">
    <label>Maximum source-to-site distance (km) <span class="ui-icon ui-icon-help ipt_help" title='The distance within which sources will contribute to the computation of the hazard.'></span>:</label>
    <input type="text" name="maximum_distance" value="200">
  </div>

  <div class="menuItems">
    <label>Hazard investigation time (years) <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the time period for the hazard calculation.'></span>:</label>
    <input type="text" name="investigation_time" value="1">
  </div>

  <div class="menuItems">
    <label>Stochastic event sets per logic tree path <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the number of stochastic event sets to be generated for each logic tree realisation (each stochastic event set represents a potential realisation of seismicity during the "hazard investigation time").'></span>:</label>
    <input type="text" name="ses_per_logic_tree_path" value="1000">
  </div>

  <div class="menuItems">
    <label>Number of logic tree samples <span class="ui-icon ui-icon-help ipt_help" title='Number of realizations used in the Montecarlo sampling for processing the logic tree structure. For complete enumeration of all the possible paths from the roots to the leaves of the logic tree structure, the number of logic tree smples must be set to 0.'></span>:</label>
    <input type="text" name="number_of_logic_tree_samples" value="0">
  </div>

  <div class="menuItems">
    <label>Ground Motion Correlation <span class="ui-icon ui-icon-help ipt_help" title='Spatial correlation model to be used for the generation of ground-motion fields.'></span>
:</label>

    <select name="ground_motion_correlation_model">
      <option value="" selected="selected">None</option>
      <option value="JB2009">JB2009</option>
    </select>
  </div>
</div>

<div name="risk-calculation">
  <h3>Risk calculation</h3>

  <div class="menuItems">
    <label>Risk investigation time (years) <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the time period for which the event loss tables and loss exceedance curves will be calculated. If this parameter is not provided, the time period used is the same as the hazard investigation time.'></span>:</label>
    <input type="text" name="risk_investigation_time" value="1">
  </div>

  <div class="alert alert-info ipt-info" role="alert">
    <div style="text-align: center;">
      <form style="margin: 0px;">
        <div class="chbox">
          <!-- <input type="checkbox" name="loss_choice" value="loss-curve-resolution"> -->
          <input type="checkbox" name="loss_curve_resolution_choice">
          <span class="inlible">Loss curve resolution</span>
        </div>
        <div class="chbox">
          <input type="checkbox" name="loss_ratios_choice">
          <span class="inlible">Loss ratios</span>
        </div>
      </form>
    </div>
  </div>

  <div class="menuItems" name="loss-curve-resolution">
    <label>Loss curve resolution <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the number of points on the aggregate loss curve. The loss levels on the aggregate loss curve are obtained by dividing the interval between the minimum and maximum portfolio losses in the portfolio loss table into "n" equispaced intervals, where "n" is the value specified for the "loss curve resolution".'></span>:</label>
    <input type="text" name="loss_curve_resolution" value="20">
  </div>

  <div class="menuItems" name="loss-ratios">
    <div name="loss-ratios-structural">
      <label>Structural vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the set of loss ratios at which the individual asset loss curves will be computed. If "loss ratios" is not set indicated, the individual asset loss curves will not be computed; and only the aggregate loss curve for the portfolio of assets will be computed. Furthermore, if "loss ratios" is required if loss maps will be computed.'></span>:</label><br>
      <input type="text" name="loss_ratios_structural"
             value="0.00010, 0.00016, 0.00025, 0.00040, 0.00065, 0.0010, 0.0016, 0.0025, 0.0040, 0.0065, 0.010, 0.016, 0.025, 0.040, 0.065, 0.10, 0.16, 0.25, 0.40, 0.65, 1.0"
             style="width: 600px";>
    </div>

    <div name="loss-ratios-nonstructural">
      <label>Nonstructural vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the set of loss ratios at which the individual asset loss curves will be computed. If "loss ratios" is not set indicated, the individual asset loss curves will not be computed; and only the aggregate loss curve for the portfolio of assets will be computed. Furthermore, if "loss ratios" is required if loss maps will be computed.'></span>:</label><br>
      <input type="text" name="loss_ratios_nonstructural"
             value="0.00010, 0.00016, 0.00025, 0.00040, 0.00065, 0.0010, 0.0016, 0.0025, 0.0040, 0.0065, 0.010, 0.016, 0.025, 0.040, 0.065, 0.10, 0.16, 0.25, 0.40, 0.65, 1.0"
             style="width: 600px";>
    </div>

    <div name="loss-ratios-contents">
      <label>Contents vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the set of loss ratios at which the individual asset loss curves will be computed. If "loss ratios" is not set indicated, the individual asset loss curves will not be computed; and only the aggregate loss curve for the portfolio of assets will be computed. Furthermore, if "loss ratios" is required if loss maps will be computed.'></span>:</label><br>
      <input type="text" name="loss_ratios_contents"
             value="0.00010, 0.00016, 0.00025, 0.00040, 0.00065, 0.0010, 0.0016, 0.0025, 0.0040, 0.0065, 0.010, 0.016, 0.025, 0.040, 0.065, 0.10, 0.16, 0.25, 0.40, 0.65, 1.0"
             style="width: 600px";>
    </div>

    <div name="loss-ratios-businter">
      <label>Business interruption vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the set of loss ratios at which the individual asset loss curves will be computed. If "loss ratios" is not set indicated, the individual asset loss curves will not be computed; and only the aggregate loss curve for the portfolio of assets will be computed. Furthermore, if "loss ratios" is required if loss maps will be computed.'></span>:</label><br>
      <input type="text" name="loss_ratios_businter"
             value="0.00010, 0.00016, 0.00025, 0.00040, 0.00065, 0.0010, 0.0016, 0.0025, 0.0040, 0.0065, 0.010, 0.016, 0.025, 0.040, 0.065, 0.10, 0.16, 0.25, 0.40, 0.65, 1.0"
             style="width: 600px";>
    </div>

    <div name="loss-ratios-occupants">
      <label>Occupants vulnerability model <span class="ui-icon ui-icon-help ipt_help" title='Parameter that specifies the set of loss ratios at which the individual asset loss curves will be computed. If "loss ratios" is not set indicated, the individual asset loss curves will not be computed; and only the aggregate loss curve for the portfolio of assets will be computed. Furthermore, if "loss ratios" is required if loss maps will be computed.'></span>:</label><br>
      <input type="text" name="loss_ratios_occupants"
             value="0.00010, 0.00016, 0.00025, 0.00040, 0.00065, 0.0010, 0.0016, 0.0025, 0.0040, 0.0065, 0.010, 0.016, 0.025, 0.040, 0.065, 0.10, 0.16, 0.25, 0.40, 0.65, 1.0"
             style="width: 600px";>
    </div>
  </div>
</div>

<div name="hazard-outputs">
  <h3>Hazard outputs</h3>

  <div class="menuItems">
    <table class="field">
      <tr><td class="cbox">
          <input style="vertical-align: top;" type="checkbox" name="ground_motion_fields">
        </td><td>
          <label>Ground motion fields</label>
      </td></tr>
    </table>
  </div>

  <div class="menuItems">
    <table class="field">
      <tr><td class="cbox">
          <input style="vertical-align: top;" type="checkbox" name="hazard_curves_from_gmfs">
        </td><td>
          <label>Hazard curves <span style="font-weight: bold; color: #d9edf7;">(♦)</span></label>
      </td></tr>
    </table>
  </div>

  <div name="hazard-related">
    <div class="menuItems">
      <table class="field">
        <tr><td class="cbox">
            <input style="vertical-align: top;" type="checkbox" name="mean_hazard_curves">
          </td><td>
            <label>Mean hazard curves</label>
        </td></tr>
      </table>
    </div>

    <div class="alert alert-info ipt-info" role="alert">
      <div style="text-align: center;">
        <form style="margin: 0px;">
          <div class="chbox">
            <input type="checkbox" name="quantile_hazard_curves_choice">
            <span class="inlible">Include quantile hazard curves</span>
          </div>
        </form>
      </div>
    </div>

    <div class="menuItems" name="quantile-hazard-curves">
      <label>Quantile hazard curves:</label><br>
      <input type="text" name="quantile_hazard_curves"
             value="0.15, 0.50, 0.85" style="width: 600px";>
    </div>
  </div>

  <div class="menuItems">
    <table class="field">
      <tr><td class="cbox">
          <input style="vertical-align: top;" type="checkbox" name="hazard_maps">
        </td><td>
          <label>Hazard maps <span style="font-weight: bold; color: #d9edf7;">(♦)</span></label>
      </td></tr>
    </table>
  </div>

  <div class="menuItems" name="poes">
    <label>List of probability of exceedances:</label><br>
    <input type="text" name="poes"
           value="0.02, 0.10" style="width: 600px";>
  </div>

  <div class="menuItems">
    <table class="field">
      <tr><td class="cbox">
          <input style="vertical-align: top;" type="checkbox" name="uniform_hazard_spectra">
        </td><td>
          <label>Uniform hazard spectra</label>
      </td></tr>
    </table>
  </div>
</div> <!-- end of div name="hazard-outputs" -->

<div name="risk-outputs">
  <h3>Risk outputs</h3>

  <div class="menuItems">
    <table class="field">
      <tr><td class="cbox">
          <input style="vertical-align: top;" type="checkbox" name="avg_losses" checked="checked">
        </td><td>
          <label>Average losses</label>
      </td></tr>
    </table>
  </div>

  <div class="menuItems">
    <table class="field">
      <tr><td class="cbox">
          <input style="vertical-align: top;" type="checkbox" name="asset_loss_table">
        </td><td>
          <label>Asset loss table</label>
      </td></tr>
    </table>
  </div>

  <div class="alert alert-info ipt-info" role="alert">
    <div style="text-align: center;">
      <form style="margin: 0px;">
        <div class="chbox">
          <input type="checkbox" name="quantile_loss_curves_choice">
          <span class="inlible">Include quantile loss curves</span>
        </div>
      </form>
    </div>
  </div>

  <div class="menuItems" name="quantile-loss-curves">
    <label>Quantile loss curves:</label><br>
    <input type="text" name="quantile_loss_curves"
           value="0.02, 0.10" style="width: 600px";>
  </div>

  <div class="alert alert-info ipt-info" role="alert">
    <div style="text-align: center;">
      <form style="margin: 0px;">
        <div class="chbox">
          <input type="checkbox" name="conditional_loss_poes_choice">
          <span class="inlible">Include loss maps</span>
        </div>
      </form>
    </div>
  </div>
  <div class="menuItems" name="conditional-loss-poes">
    <label>Loss maps:</label><br>
    <input type="text" name="conditional_loss_poes"
           value="0.02, 0.10" style="width: 600px";>
  </div>
</div>

<div style="text-align: center;">
  <hr>
  <button type="submit" style="vertical-align: top; margin: auto;" class="btn btn-primary" name="clean_all">Clean all</button>

  <button type="submit" style="vertical-align: top; margin: auto;" class="btn btn-primary" name="download">Download Zip File</button><form style="display: inline-block;" name="downloadForm" method="post">{% csrf_token %}</form>
</div>

<div id="dialog-message" title="Error" style="display: none; width: 600px;">
</div>
